<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, maximum-scale=2.0">

<title>Edit User</title>

	<link href="http://fonts.googleapis.com/css?family=Lato:100italic,100,300italic,300,400italic,400,700italic,700,900italic,900" rel="stylesheet" type="text/css">
	<link rel="stylesheet" type="text/css" href="media/css/bootstrap.min.css" />
	<link rel="stylesheet" type="text/css" href="media/css/user.css" />
<!--
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css"
	href="resources/syntax/shCore.css">
<link rel="stylesheet" type="text/css" href="resources/demo.css">
<link rel="stylesheet" href="media/css/bootstrap-table.css">
<style type="text/css" class="init">
 -->

</style>
<script type="text/javascript" language="javascript"
	src="media/js/jquery.js"></script>
<script type="text/javascript" language="javascript"
	src="resources/syntax/shCore.js"></script>
<script type="text/javascript" language="javascript"
	src="resources/demo.js"></script>
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
<script src="media/js/bootstrap-table.js"></script>
<script type="text/javascript" src="media/js/jquery.tablesorter.js"></script>
<script type="text/javascript" language="javascript" class="init">
	
</script>
</head>

<body>
	<h4>
		<a href='http://localhost:8080/CallFailureEnterprise/upload.html'>Go
			back to upload page</a>
	</h4>
	<div align = "center">
	<p>
	<h2>Cool Beanzzz</h2>
	<br/>
	<label for="uName">Username</label>
	<input type="text" class="form-control" id="uName">
	<br/>
	<br/>
	<label for="pWord">Password</label>
	<input type="password" class="form-control" id="pWord">
	<br/>
	<br/>
	<label for="pWordConf">Password Confirm</label>
	<input type="password" class="form-control" id="pWordConf">
	<br/>
	<br/>
	<br/>
	<div>
	<form action="" id="userType">
    <input type="radio" name="userType" value="SysAd"> System Administrator <br>
    <input type="radio" name="userType" value="NetManEng"> Network Manager<br>
    <input type="radio" name="userType" value="SupEng"> Support Engineer <br>
    <input type="radio" name="userType" value="CSR" checked> Customer Service Representative
	</form>
	</div>
	
	<p id="count">
	</p>
	<button id="addUser" type="button" class="btn btn-primary" onclick="addUser()">Add User</button>
	<button id="empty" type="button" class="btn btn-primary">Log Out</button>
	</div>
	
	<script>
		
//define Users object
function Users(userName,passWord,userType) {
	this.id=0;
	this.username = userName;
	this.passkey = passWord;
	this.userType = userType;
}

//Get input from page
function addUser() {
	
	var radios = document.getElementsByName("userType");

	for (var i = 0, length = radios.length; i < length; i++) {
    	if (radios[i].checked) {
	        var uType = radios[i].value;
	        // only one radio can be logically checked, don't check the rest
	        break;
    	}
	}//radio loop
	
	var uName = $("#uName").val();

	var pWord0 = $("#pWord").val();

	var pWord1 = $("#pWordConf").val();
	
	
	if(uName.length==0){
		alert("Choose a longer user name");
	}else{
		if(pWord0==pWord1){
			var pWord = pWord0;
			var user = new Users(uName, pWord, uType);
			call(user);
		}else{
			alert("Passwords do not match");
		}
	
	}

}


function handlePost() {

}

function call(user){
	alert(JSON.stringify(user));
	
	$.ajax({
		type : 'POST',
		url : 'rest/users',
		dataType: "json",
		contentType: 'application/json',
		data: JSON.stringify(user),
		success: function(){
			alert(" User added ");
		},
	}); 
}

$(document).ready(function() {

});		

	
	
		 
	</script>
</body>
</html>